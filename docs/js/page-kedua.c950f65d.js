(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-kedua"],{"5cc6":function(t,e,a){var n=a("74e8");n("Uint8",(function(t){return function(e,a,n){return t(this,e,a,n)}}))},"69fc":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("button",{staticClass:"btn btn-sm btn-style1 font-bold text-uppercase underline text-white",staticStyle:{position:"absolute"},attrs:{type:"button"},on:{click:function(e){return t.$router.push("/driver")}}},[a("span",{staticClass:"text-xl typcn typcn-arrow-left"}),t._v(" Kembali ")]),a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320"}},[a("path",{attrs:{fill:"#000b76","fill-opacity":"1",d:"M0,288L0,320L144,320L144,160L288,160L288,160L432,160L432,128L576,128L576,32L720,32L720,160L864,160L864,288L1008,288L1008,256L1152,256L1152,64L1296,64L1296,32L1440,32L1440,0L1296,0L1296,0L1152,0L1152,0L1008,0L1008,0L864,0L864,0L720,0L720,0L576,0L576,0L432,0L432,0L288,0L288,0L144,0L144,0L0,0L0,0Z"}})]),t.ttdnya.length>0?a("div",{staticClass:"text-center mx-auto"},[a("img",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"kinoLightBox img-fluid rounded-lg text-center mx-auto",staticStyle:{height:"250px",border:"1px solid grey"},attrs:{src:t.ttdnya,alt:""}})]):t._e(),a("p",{staticClass:"p-2 font-bold font-times"},[t._v("Tanda Tangan : ")]),a("div",{staticClass:"bg-white p-2  shadow-inner"},[a("VueSignaturePad",{ref:"signaturePad",staticStyle:{border:"1px solid black"},attrs:{width:"100%",height:"400px"}}),a("br"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 text-center"},[a("button",{staticClass:"btn btn-sm btn-danger",on:{click:t.undo}},[t._v("Undo")])]),a("div",{staticClass:"col-6 text-center"},[a("button",{staticClass:"btn btn-sm btn-primary",on:{click:t.save}},[t._v("Save")])])])],1)])},s=[],i=(a("fb6a"),a("d3b7"),a("ac1f"),a("1276"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("bc3a"),a("8aa5")),r=a.n(i),o=r.a.firestore(),c={data:function(){return{ttd:"",ttdnya:""}},methods:{undo:function(){this.$refs.signaturePad.undoSignature()},b64toBlob:function(t,e,a){e=e||"",a=a||512;for(var n=atob(t),s=[],i=0;i<n.length;i+=a){for(var r=n.slice(i,i+a),o=new Array(r.length),c=0;c<r.length;c++)o[c]=r.charCodeAt(c);var l=new Uint8Array(o);s.push(l)}var d=new Blob(s,{type:e});return d},save:function(){var t=this,e=this.$refs.signaturePad.saveSignature(),a=e.isEmpty,n=e.data;console.log(a),console.log(n);var s=n,i=s.split(";"),r=i[0].split(":")[1],c=i[1].split(",")[1];this.b64toBlob(c,r);o.collection("users").doc(this.$store.state.users.uid).collection("ttd").doc("pertama").set({ttd:n},{merge:!0}).then((function(e){alert("Berhasil daftarkan tanda tangan digital."),t.$router.push("/driver")}))}},mounted:function(){var t=this;setTimeout((function(){t.$store.state.users?o.collection("users").doc(t.$store.state.users.uid).collection("ttd").doc("pertama").get().then((function(e){var a=e.data();console.log(a),t.ttdnya=a.ttd,t.$forceUpdate()})):t.$router.push("/")}),2e3)}},l=c,d=a("2877"),u=Object(d["a"])(l,n,s,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=page-kedua.c950f65d.js.map